{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n\nfunction DoPokemonSearch(query) {\n  _s();\n\n  const [pokemonData, setPokemonData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  useEffect(() => {\n    let ignore = false;\n    const controller = new AbortController();\n\n    async function fetchSearchResults() {\n      let responseBody = {};\n      setLoading(true);\n\n      try {\n        const response = await fetch(` https://pokeapi.co/api/v2/pokemon/${query}/`, //` https://pokeapi.co/api/v2/pokemon/pikachu/`,\n        {\n          signal: controller.signal\n        });\n        responseBody = await response.json();\n      } catch (e) {\n        if (e instanceof DOMException) {\n          console.log(\"== HTTP request cancelled\");\n        } else {\n          setError(true);\n          throw e;\n        }\n      }\n\n      if (!ignore) {\n        setLoading(false);\n        setError(false);\n        setPokemonData(responseBody);\n        console.log(\"response body\", responseBody);\n      }\n    }\n\n    if (query) {\n      fetchSearchResults();\n    }\n\n    return () => {\n      controller.abort();\n      ignore = true;\n    };\n  }, [query]);\n  console.log(pokemonData);\n  return [pokemonData, loading, error];\n}\n\n_s(DoPokemonSearch, \"kGaEM16VZQiBsSO5hJ1FkT/W3Ug=\");\n\n_c = DoPokemonSearch;\nexport default DoPokemonSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoPokemonSearch\");","map":{"version":3,"sources":["/Users/jacoburenda/Documents/PokeApi-React.js/src/hooks/usePokemonSearch.js"],"names":["useState","useEffect","DoPokemonSearch","query","pokemonData","setPokemonData","loading","setLoading","error","setError","ignore","controller","AbortController","fetchSearchResults","responseBody","response","fetch","signal","json","e","DOMException","console","log","abort"],"mappings":";;AAAA,SAAUA,QAAV,EAAoBC,SAApB,QAAqC,OAArC;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAA+B;AAAA;;AAE7B,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCL,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAEM,OAAF,EAAWC,UAAX,IAA0BP,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAAEQ,KAAF,EAASC,QAAT,IAAsBT,QAAQ,CAAC,KAAD,CAApC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,MAAM,GAAG,KAAb;AACA,UAAMC,UAAU,GAAG,IAAIC,eAAJ,EAAnB;;AACA,mBAAeC,kBAAf,GAAoC;AAClC,UAAIC,YAAY,GAAG,EAAnB;AACAP,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,UAAI;AACF,cAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAEzB,sCAAqCb,KAAM,GAFlB,EAG1B;AACA;AAAEc,UAAAA,MAAM,EAAEN,UAAU,CAACM;AAArB,SAJ0B,CAA5B;AAMAH,QAAAA,YAAY,GAAG,MAAMC,QAAQ,CAACG,IAAT,EAArB;AAED,OATD,CASE,OAAOC,CAAP,EAAU;AACV,YAAIA,CAAC,YAAYC,YAAjB,EAA+B;AAC7BC,UAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACD,SAFD,MAEO;AACLb,UAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,gBAAMU,CAAN;AACD;AACF;;AACD,UAAI,CAACT,MAAL,EAAa;AACXH,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAJ,QAAAA,cAAc,CAACS,YAAD,CAAd;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BR,YAA7B;AACD;AACF;;AACD,QAAIX,KAAJ,EAAW;AACTU,MAAAA,kBAAkB;AAEnB;;AACD,WAAO,MAAM;AACXF,MAAAA,UAAU,CAACY,KAAX;AACAb,MAAAA,MAAM,GAAG,IAAT;AACD,KAHD;AAID,GAtCQ,EAsCN,CAAEP,KAAF,CAtCM,CAAT;AAuCAkB,EAAAA,OAAO,CAACC,GAAR,CAAYlB,WAAZ;AACA,SAAO,CAAEA,WAAF,EAAeE,OAAf,EAAwBE,KAAxB,CAAP;AACD;;GA9CQN,e;;KAAAA,e;AA+CT,eAAeA,eAAf","sourcesContent":["import  { useState, useEffect } from 'react';\n\nfunction DoPokemonSearch(query){\n\n  const [ pokemonData, setPokemonData ] = useState([]);\n  const [ loading, setLoading ] = useState(false);\n  const [ error, setError ] = useState(false);\n  useEffect(() => {\n    let ignore = false;\n    const controller = new AbortController();\n    async function fetchSearchResults() {\n      let responseBody = {};\n      setLoading(true);\n      try {\n        const response = await fetch(\n\n          ` https://pokeapi.co/api/v2/pokemon/${query}/`,\n          //` https://pokeapi.co/api/v2/pokemon/pikachu/`,\n          { signal: controller.signal }\n        );\n        responseBody = await response.json();\n\n      } catch (e) {\n        if (e instanceof DOMException) {\n          console.log(\"== HTTP request cancelled\")\n        } else {\n          setError(true);\n          throw e;\n        }\n      }\n      if (!ignore) {\n        setLoading(false);\n        setError(false);\n        setPokemonData(responseBody);\n        console.log(\"response body\", responseBody);\n      }\n    }\n    if (query) {\n      fetchSearchResults()\n\n    }\n    return () => {\n      controller.abort();\n      ignore = true;\n    }\n  }, [ query ]);\n  console.log(pokemonData)\n  return [ pokemonData, loading, error ];\n}\nexport default DoPokemonSearch;\n"]},"metadata":{},"sourceType":"module"}